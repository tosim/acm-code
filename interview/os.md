# 操作系统

## 进程和线程

### 定义

1.进程是程序在某一数据集上的一次运行活动，是**系统分配资源和调度的基本单位**。
  
  
2.线程是进程的一个实体，是**cpu调度和分派的基本单位**。  
他是比进程更小的能独立运行的基本单位。线程自己基本上不拥有系统资源，只拥有一点在运行时必不可少的资源（如程序计数器，寄存器和栈），但是可以**与同一进程的其他线程共享进程的全部资源**。

### 联系

1.一个线程可以创建和撤销另一个线程。  
2.同一个进程的多个线程可以并发执行。  
3.相对进程而言，线程更加接近执行体的概念，它可以与进程中的其他线程共享资源，但拥有自己的栈空间，拥有独立的执行序列

### 区别

1.进程和线程是操作系统资源管理的不同方式。  
2.进程有独立的地址空间，一个进程崩溃后，不会对其他进程产生影响。  
3.线程只是进程中的不同执行路径，线程有自己的堆栈和局部变量，但线程之间没有独立的地址空间，一个线程崩溃旧等于整个进程崩溃，所以多进程程序要比多线程程序健壮，但在进程切换时，耗费资源较大，效率较差。

### 总结

1.一个程序至少有一个进程，一个进程至少有一个线程。  
2.进程有独立的内存单元，一个进程的多个线程共享内存。  
3.线程执行开销小，但不利于资源的管理和保护;进程正好相反。


---

## 进程间通信

### 常见通信方式

1.***无名管道***：半双工的通信方式，**同一时刻数据只能单向流通**，而且只能用于**具有亲缘关系的进程间通信**。  

2.***命名管道FIFO***：半双工的通信方式，但**允许无亲缘关系的进程间通信**。

3.***消息队列***：消息队列是消息的链表，保存在内核中并由消息队列标识符标识。消息队列**克服了信号传递少，管道只能承载无格式字节流及缓冲区大小受限等缺点**。

4.***共享内存***：进程中映射一段能被其他进程所访问的内存，能被多个进程访问。**共享内存是最快的ipc方式**，它是针对其他进程间通信效率低而设计的。它通常与其他通信机制，如信号量配合使用，来实现进程的同步和通信。

5.***信号量***：信号量是一个计数器，可以控制多个进程对共享资源的访问。它常作为一种锁机制，防止进程在访问共享资源时，其他进程也访问该资源。因此**主要作为进程间以及同一进程的不同线程间的同步手段**。

6.***套接字socket***:也是一种进程间通信机制，它也**可以用于不同主机间进程间的通信**。

7.***信号***： 信号是一种比较复杂的通信方式，用于**通知接收进程某个事件已经发生***。
